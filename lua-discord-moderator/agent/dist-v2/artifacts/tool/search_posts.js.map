{
  "version": 3,
  "sources": ["tool-search_posts.ts", "../../src/tools/SearchPostsTool.ts"],
  "sourcesContent": ["\n// =============================================================================\n// AUTO-GENERATED ENTRY POINT (Class-based)\n// Tool: search_posts\n// Source: /Users/raresastilean/Documents/Lua/Repos/lua-dev-examples/lua-discord-moderator/agent/src/tools/SearchPostsTool.ts\n// =============================================================================\n\nimport { SearchPostsTool } from '/Users/raresastilean/Documents/Lua/Repos/lua-dev-examples/lua-discord-moderator/agent/src/tools/SearchPostsTool.ts';\n\n// Instantiate the tool class\nconst toolInstance = new SearchPostsTool();\n\n// Runtime metadata\nconst __lua_primitive__ = {\n  version: '2.0.0',\n  kind: 'tool',\n  name: \"search_posts\",\n  description: \"Search the community knowledge base for similar questions and solutions from past forum posts\",\n  exportName: \"SearchPostsTool\",\n  pattern: 'class',\n};\n\n// Wrap class instance to match primitive interface\nexport default {\n  __lua_primitive__,\n  primitive: {\n    kind: 'tool',\n    name: toolInstance.name,\n    description: toolInstance.description,\n    inputSchema: toolInstance.inputSchema,\n    execute: toolInstance.execute.bind(toolInstance),\n    condition: toolInstance.condition?.bind(toolInstance),\n  },\n};\n\nexport { SearchPostsTool };\n", "import { LuaTool, Data } from \"lua-cli\";\nimport { z } from \"zod\";\n\n/**\n * Search through resolved forum posts using semantic search.\n * Finds similar questions/solutions from the community knowledge base.\n */\nexport default class SearchPostsTool implements LuaTool {\n  name = \"search_posts\";\n  description =\n    \"Search the community knowledge base for similar questions and solutions from past forum posts\";\n\n  inputSchema = z.object({\n    query: z\n      .string()\n      .describe(\"What to search for - describe the issue or topic\"),\n    limit: z\n      .number()\n      .optional()\n      .default(5)\n      .describe(\"Max number of results (default 5)\"),\n  });\n\n  async execute(input: z.infer<typeof this.inputSchema>) {\n    const results = await Data.search(\n      \"resolved-posts\",\n      input.query,\n      input.limit || 5,\n      0.7 // threshold for relevance\n    );\n\n    if (results.length === 0) {\n      return {\n        found: false,\n        message:\n          \"No similar posts found in the knowledge base. This might be a new question!\",\n        posts: [],\n      };\n    }\n\n    return {\n      found: true,\n      message: `Found ${results.length} related post(s) from the community:`,\n      posts: results.map((entry) => ({\n        id: entry.id,\n        title: entry.title,\n        question: entry.question,\n        solution: entry.solution,\n        tags: entry.tags,\n        relevance: Math.round((entry.score ?? 0) * 100) + \"%\",\n      })),\n    };\n  }\n}\n\n"],
  "mappings": "yaAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,aAAAE,IAAA,eAAAC,EAAAH,GCAA,IAAAI,EAA8B,mBAC9BC,EAAkB,eDSlB,IAAMC,EAAe,IAAIC,EAGnBC,EAAoB,CACxB,QAAS,QACT,KAAM,OACN,KAAM,eACN,YAAa,gGACb,WAAY,kBACZ,QAAS,OACX,EAGOC,EAAQ,CACb,kBAAAD,EACA,UAAW,CACT,KAAM,OACN,KAAMF,EAAa,KACnB,YAAaA,EAAa,YAC1B,YAAaA,EAAa,YAC1B,QAASA,EAAa,QAAQ,KAAKA,CAAY,EAC/C,UAAWA,EAAa,WAAW,KAAKA,CAAY,CACtD,CACF",
  "names": ["tool_search_posts_exports", "__export", "tool_search_posts_default", "__toCommonJS", "import_lua_cli", "import_zod", "toolInstance", "SearchPostsTool", "__lua_primitive__", "tool_search_posts_default"]
}
